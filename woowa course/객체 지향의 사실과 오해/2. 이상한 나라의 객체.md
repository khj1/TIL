# 이상한 나라의 객체

## 객체 지향과 인지 능력

인간이 직접적으로 지각할 수 있는 대부분의 객체는 물리적인 경계를 지닌 구체적인 사물이다.

그러나 인간의 인지 능력은 물리적인 한계를 넘어 개념적으로 경계 지을 수 있는 추상적인 사물까지도 객체로 인식할 수 있게 한다. 예를 들어 주문을 하는 것과 계좌 이체를 하는 것은 비록 물리적인 실체는 존재하지 않지만 인간이 쉽게 구분하고 인지할 수 있는 개념적인 객체의 일종이다.

객체지향 패러다임은 인간이 인지할 수 있는 다양한 객체들이 모여 현실 세계를 이루는 것 처럼 소프트웨어 세계 역시 인간이 인지할 수 있는 다양한 소프트웨어 객체들이 모여 이뤄져 있다는 믿음에서 출발한다.

다만 객체지향 패러다임의 목적은 현실 세계를 모방하는 것이 아니라 현실 세계를 기반으로 새로운 세계를 창조하는 것이다.

### 엘리스 객체

> 이상한 나라의 앨리스 초반부에서 엘리스는 작은 문을 통과하기 위해 자신의 몸을 적정하게 조절해야만 했다. <br>
> 자신의 몸을 너무 크지도 너무 작지도 않게 만들기 위해 앨리스는 여러가지 방법을 시도하며 고군분투한다.

문을 통과하기에 적절한 키는 즉 문을 통과하기 위한 적당한 **상태**를 의미한다.

그렇다고 엘리스의 키가 아무렇게나 변하는 것은 아니다. 엘리스는 자신의 상태를 변화시키기 위해 다양한 방법을 시도한다. 결국 엘리스의 키를 변화시키는 것은 엘리스의 **행동**이다.

동시에 엘리스의 행동은 엘리스의 상태를 기준점으로 삼는다. 엘리스의 키가 너무 크다면 키가 작아지기 위한 행동을, 키가 너무 작다면 키가 커지기 위한 행동을 취한다. 즉 엘리스의 행동은 엘리스의 상태에 **의존적**이다.

어떤 행동의 성공 여부는 이전에 어떤 행동을 해왔는지에 달려있다는 사실에도 주목해야한다. 예를 들어 엘리스가 문을 성공적으로 통과했다면 그 이전에 몸을 적절하게 조절하는 행동을 취했다는 뜻이다. 즉 **행동의 순서**가 중요하다는 것을 의미한다.

행동에 의해 앨리스의 상태가 변하더라도 앨리스는 여전히 앨리스다. 앨리스는 상태와 무관하게 유일한 존재로 식별 가능하다.

### 요약하자면

- 앨리스는 상태를 가지며 상태는 변경이 가능하다.
- 앨리스의 상태를 변경시키는 것은 앨리스의 행동이다.
  - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
  - 행동의 순서가 결과에 영향을 미친다.
- 앨리스는 어떤 상태에 있더라도 유일하게 식별 가능하다.

## 객체, 그리고 소프트웨어 나라

객체의 다양한 특성을 효과적으로 설명하기 위해서는 객체를 **상태(state)**, **행동(behavior)**, **식별자(identity)** 를 지닌 실체로 보는 것이 가장 효과적이다.

- 객체란 식별 가능한 객체 또는 사물이다.
- 객체는 구체적인 사물일 수도 있고, 추상적인 개념일 수도 있다.
- 객체는 구별 가능한 식별자, 특징적인 행동, 변경 가능한 상태를 가진다.
- 소프트웨어 안에서 객체는 저장된 상태와 실행 가능한 코드로 구현된다.

### 상태

#### 왜 상태가 필요한가

텔레비전 전원을 켜지 않으면 채널을 돌릴 수 없다. 이처럼 어떤 행동의 결과는 과거에 어떤 행동들이 일어났느냐에 의존한다.

앨리스는 문을 성공적으로 통과하기 위해 다양한 방법을 여러번 시도했을 것이다. 앨리스가 만약 문을 통과할 수 있을지 예상하는 방법은 지금까지 앨리스가 취해온 행동들의 결과를 모두 기억하는 것 뿐이다. 이때 필요한 것이 **상태**다.

상태를 이용하면 과거의 모든 행동 이력을 설명하지 않고도 행동의 결과를 쉽게 예측하고 설명할 수 있다. 상태를 이용하면 현재를 기반으로 객체의 행동 방식을 이해할 수 있다.

#### 상태와 프로퍼티

세상에 존재하는 모든 것들이 객체인 것은 아니다. 분명하게 인식할 수 있음에도 객체의 영역에 포함시킬 수 없는 것들도 존재한다. 앨리스의 '키'는 객체가 아니다.

숫자, 문자열, 시간, 날짜, 참/거짓과 같은 단순한 값들은 객체가 아니다. 이들은 객체의 상태를 표현하기 위해 사용된다. 객체의 상태를 구성하는 모든 특징들을 통틀어 **프로퍼티(property)** 라고 한다.

일반적으로 프로퍼티는 고정적이고, 프로퍼티 값(property value)들은 가변적이다.

객체와 객체 사이의 의미 있느 연결을 **링크(link)** 라고 한다. 객체는 링크를 통해서만 메시지를 주고 받을 수 있다. 링크는 객체가 다른 객체를 참조할 수 있다는 것을 의미하며 이는 한 객체가 다른 객체의 식별자를 알고 있을 때 가능해진다.

링크와 달리 객체를 구성하는 단순한 값은 **속성(attribute)** 라고 한다. 앨리스의 키와 위치는 단순한 값으로 표현 가능하기 때문에 속성이다.

프로퍼티는 속성과 링크의 조합으로 표현할 수 있다.

- 상태는 특정 시점에 객체가 가지고 있는 정보의 집합이며 객체의 구조적 특징을 표현한다.
- 객체의 상태는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성된다.
- 프로퍼티는 속성과 링크로 구분할 수 있다.

외부의 객체가 직접적으로 객체의 상태를 변화시키는 것은 위험할 수 있다. 간접적으로 객체의 상태를 변경하거나 조회할 수 있는 방법이 필요하다.

### 행동

객체는 스스로의 행동을 통해서만 상태가 변경되는 것을 보장함으로써 객체의 자율성을 유지한다.
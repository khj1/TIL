# Compile, Build, Deploy
## Compile
개발자가 작성한 코드( 소스코드 )를 기계가 읽을 수 있는 바이너리 코드( 자바 바이트 코드 )로 변경하는 과정이다. 소스 코드 분석 및 오류 분석이 이루어진다.( 컴파일 오류 )

<br>

보통은 exe 과정까지 컴파일이되지만 Java의 경우 class까지 컴파일이된다.<br>
왜 자바는 class 까지 컴파일되는걸까?

<br>

### JVM( 추가 공부 필요 )
Java Virtual Machine의 약자로 Java Byte Code를 OS에 맞게 실행한다. ( 자바의 높은 이식성 ) 만약 JVM이 없었다면 자바는 OS 환경에 따라 컴파일을 다르게 해줘야한다. JVM이 있기 때문에 Java는 class까지 컴파일을 하고 컴파일된 내용을 각 OS 위에 높인 JVM에서 실행해주면 된다.( ByteCode는 기계어가 아니기 때문에 OS에서 바로 실행되지 않는다. JVM은 OS가 ByteCode를 이해할 수 있도록 해석해준다. ) Byte 코드는 JVM 위에서 OS 상관없이 실행된다.

<br>

***
## Build
소스코드를 실행 가능한 독립적인 소프트웨어 산출물로 만드는 과정

- compile: 소스코드를 바이너리 코드로
- link: 클래스 파일들끼리 연결( 외부 라이브러리 포함 )
- packaging: 연결된 클래스 및 리소스 파일 묶어주기
- test: 기능 테스트

<br>

### 빌드의 결과물
- JAR(Java Archive)
  - 자바에서 사용되는 압축 양식, 클래스 + 리소스 파일로 구성된다.
- WAR(Web Archive)
  - 웹 어플리케이션을 압축하고 배포하는데 사용되는 파일 형태
  - JAR에 비해 자바 서블릿, XML 파일, 정적 파일 등 필요한 자원이 더 많다.

<br>

### 빌드 도구
빌드는 굉장히 복잡하고 어려운 작업이다. 이를 쉽게 만들어주는게 빌드 도구다.
- apache ant
- maven
- gradle

#### 1. Ant
- xml 형식으로 작성
- 자유도가 높다
- 절차적으로 작성된다.
- 스크립트를 직접적으로 명시한다.

<br>

- 스크립트 재사용이 불가능하다.
- 복잡해 질수록 구조 및 스크립트 파악이 힘들다.

<br>

#### 2. Maven
- pom.xml 형식으로 작성
- 전체적인 프로젝트 관리 가능
- 편리한 의존성 관리 및 다운로드 가능
- 표준화된 빌드 스크립트
- Lib가 존재하여 빌드 속도가 빨라진다.

<br>

- 지원하지 않는 복잡한 빌드 과정 추가 시에 난이도가 상승한다.
- pom.xml 관리가 까다로워 진다.
- Repository 관리가 불편하다.

<br>

#### 3. Gradle
Ant와 Maven의 장점만 모아서 만든 빌드 도구
- JVM 위에서 동작하는 Groovy 기반으로 작성
- 자바 문법과 유사하여 익히기가 쉽다.
- Maven의 세팅 및 중앙 저장소를 활용할 수 있다.
- 프로젝트를 설정 주입식으로 정의한다. ( 재사용 용이 )
- Wrapper를 사용하여 Gradle이 설치되어 있지 않아도 사용할 수 있다.

<br>

- Maven에 비해 커뮤니티가 작다.

<br>

### Gradle
#### 항목
- `src`: 자바 소스파일
- `.gradle`: gradle 버전 및 설정 파일
- `settings.gradle`: 프로젝트 정보 설정
- `build.gradle`: 프로젝트 빌드에 대한 정의
- `gradlew.gradlew.bat`: 작동될 gradle 명령 파일들

#### .gradlew
gradle wrapper의 약자로 gradle이 설치되어 있지 않아도 빌드할 수 있게 하는 역할
- `./gradlew build` - mac 환경에서 사용한다.
- `gradlew.bat` - window 환경에서 사용한다.

<br>

***
## Deploy
사용자가 사용할 수 있도록 소프트웨어를 제공하는 과정

***
## CI/CD
CI/CD는 애플리케이션 개발 단계를 자동화하여 애플리케이션을 보다 짧은 주기로 고객에게 제공하는 방법입니다. CI/CD의 기본 개념은 지속적인 통합, 지속적인 서비스 제공, 지속적인 배포입니다. 
<br>

### 협업 시 문제점
개발자들이 각자 개발을 하고 모든 코드가 완성됐을 때 merge를 하게되면 Integration hell( 각자 작성한 코드를 모아놓으니 엉망인 상태 )이 발생한다.

### CI( Continuous Integration )
개발자가 개발한 코드를 하나의 저장소에서 통합하는 과정을 말한다. 하지만 단순히 코드의 통합만을 의미하지 않으며 정적 분석, 단위 테스트, 분석 결과 리포팅, 배포 서버에 push 하는 등의 여러 작업들을 수행한다. 즉 배포 전에 한번에 모아서 통합하는 것이 아닌, 조금씩 자주 지속적으로 통합해나가는 과정이라고 이해할 수 있다.
- 신규 코드와 기존 코드의 충돌을 빠르게 수정할 수 있다.
- 협업 시에 애플리케이션이 최신 상태로 유지됨을 믿을 수 있다.

<br>

대표적인 CI 도구로 Travis, Github-Action, Jenkins

<br>

### CD( Continuous Delivery / Deployment )
지속적인 제공/배포를 의미한다. 개발자들이 코드에 변경 사항을 줄 경우, 파이프 라인을 통해 이동하여 프로덕션 단계까지 자동으로 배포되는 프로세스이다.